### **Thiáº¿t Káº¿ Há»‡ Thá»‘ng TÃ­nh Äiá»ƒm GhÃ©p Ná»‘i (Matching Score System)**

**Má»¥c tiÃªu:**Â GÃ¡n má»™t Ä‘iá»ƒm sá»‘ (tá»« 0 Ä‘áº¿n 100) cho má»—i cÆ¡ há»™i ghÃ©p ná»‘i tiá»m nÄƒng. Äiá»ƒm cÃ ng cao, cÆ¡ há»™i Ä‘Ã³ cÃ ng lÃ½ tÆ°á»Ÿng vÃ  tiáº¿t kiá»‡m chi phÃ­.

**NguyÃªn táº¯c cá»‘t lÃµi:**Â Äiá»ƒm sá»‘ Ä‘Æ°á»£c cáº¥u thÃ nh tá»« hai pháº§n:Â **Äiá»ƒm Ná»n (Base Score)**Â dá»±a trÃªn cÃ¡c yáº¿u tá»‘ cÆ¡ báº£n vÃ Â **Äiá»ƒm ThÆ°á»Ÿng/Pháº¡t (Bonus/Penalty Points)**Â dá»±a trÃªn má»©c Ä‘á»™ phá»©c táº¡p vÃ  chi phÃ­ phÃ¡t sinh.

### **Pháº§n 1: Thuáº­t ToÃ¡n TÃ­nh Äiá»ƒm Tá»•ng (Overall Score Algorithm)**

Generated code

`Tá»•ng Äiá»ƒm = Äiá»ƒm Ná»n (Tá»‘i Ä‘a 70) + Äiá»ƒm ThÆ°á»Ÿng (Tá»‘i Ä‘a 30) - Äiá»ƒm Pháº¡t`

---

### **Pháº§n 2: TÃ­nh ToÃ¡n Äiá»ƒm Ná»n (Base Score - Max 70 Ä‘iá»ƒm)**

Äiá»ƒm Ná»n pháº£n Ã¡nh má»©c Ä‘á»™ lÃ½ tÆ°á»Ÿng cá»§a má»™t cáº·p ghÃ©p ná»‘i dá»±a trÃªn 3 yáº¿u tá»‘ chÃ­nh: Khoáº£ng cÃ¡ch, Thá»i gian vÃ  Äá»‘i tÃ¡c.

**A. Äiá»ƒm Khoáº£ng CÃ¡ch (Tá»‘i Ä‘a 40 Ä‘iá»ƒm) - Quan trá»ng nháº¥t**

- **Logic:**Â Khoáº£ng cÃ¡ch cÃ ng ngáº¯n, Ä‘iá»ƒm cÃ ng cao.
- **CÃ´ng thá»©c:**Â Äiá»ƒm Khoáº£ng CÃ¡ch = 40 * (1 - (Khoáº£ng_cÃ¡ch_thá»±c_táº¿ / NgÆ°á»¡ng_Khoáº£ng_cÃ¡ch_tá»‘i_Ä‘a))
    - NgÆ°á»¡ng_Khoáº£ng_cÃ¡ch_tá»‘i_Ä‘a: Má»™t giÃ¡ trá»‹ cáº¥u hÃ¬nh, vÃ­ dá»¥:Â **100km**. Nhá»¯ng cáº·p xa hÆ¡n 100km sáº½ cÃ³ Ä‘iá»ƒm khoáº£ng cÃ¡ch Ã¢m (bá»‹ pháº¡t náº·ng).
- **VÃ­ dá»¥:**
    - Khoáº£ng cÃ¡ch 5km ->Â 40 * (1 - (5/100)) = 38 Ä‘iá»ƒm.
    - Khoáº£ng cÃ¡ch 50km ->Â 40 * (1 - (50/100)) = 20 Ä‘iá»ƒm.
    - Khoáº£ng cÃ¡ch 120km ->Â 40 * (1 - (120/100)) = -8 Ä‘iá»ƒmÂ (Äiá»ƒm pháº¡t).

**B. Äiá»ƒm Thá»i Gian (Tá»‘i Ä‘a 20 Ä‘iá»ƒm)**

- **Logic:**Â Thá»i gian chá» giá»¯a lÃºc container ráº£nh vÃ  lÃºc cáº§n láº¥y cÃ ng ngáº¯n, Ä‘iá»ƒm cÃ ng cao.
- **CÃ´ng thá»©c:**Â Äiá»ƒm Thá»i Gian = 20 * (1 - (Thá»i_gian_chá»_giá» / NgÆ°á»¡ng_Thá»i_gian_chá»_tá»‘i_Ä‘a))
    - NgÆ°á»¡ng_Thá»i_gian_chá»_tá»‘i_Ä‘a: Má»™t giÃ¡ trá»‹ cáº¥u hÃ¬nh, vÃ­ dá»¥:Â **72 giá» (3 ngÃ y)**.
- **VÃ­ dá»¥:**
    - Chá» 2 giá» ->Â 20 * (1 - (2/72)) = 19.4 Ä‘iá»ƒm.
    - Chá» 24 giá» ->Â 20 * (1 - (24/72)) = 13.3 Ä‘iá»ƒm.
    - Chá» 80 giá» ->Â -2.2 Ä‘iá»ƒmÂ (Äiá»ƒm pháº¡t).

**C. Äiá»ƒm Äá»‘i TÃ¡c & HÃ£ng TÃ u (Tá»‘i Ä‘a 10 Ä‘iá»ƒm)**

- **Logic:**Â Má»©c Ä‘á»™ phá»©c táº¡p vá» Ä‘á»‘i tÃ¡c vÃ  hÃ£ng tÃ u. Giao dá»‹ch cÃ ng Ä‘Æ¡n giáº£n, Ä‘iá»ƒm cÃ ng cao.
- **Báº£ng Ä‘iá»ƒm:**
    - **CÃ¹ng NVT, CÃ¹ng HT:**Â +10 Ä‘iá»ƒm (LÃ½ tÆ°á»Ÿng nháº¥t)
    - **KhÃ¡c NVT, CÃ¹ng HT (Marketplace):**Â +5 Ä‘iá»ƒm (Phá»©c táº¡p hÆ¡n má»™t chÃºt)
    - **CÃ¹ng NVT, KhÃ¡c HT (Cáº§n Ä‘á»•i booking):**Â +0 Ä‘iá»ƒm (Cáº§n ná»— lá»±c tá»« ngÆ°á»i dÃ¹ng)
    - **KhÃ¡c NVT, KhÃ¡c HT:**Â -5 Ä‘iá»ƒm (Ráº¥t phá»©c táº¡p, chá»‰ gá»£i Ã½ khi cÃ¡c yáº¿u tá»‘ khÃ¡c quÃ¡ tá»‘t)

---

### **Pháº§n 3: TÃ­nh ToÃ¡n Äiá»ƒm ThÆ°á»Ÿng/Pháº¡t (Bonus/Penalty Points)**

Äiá»ƒm nÃ y pháº£n Ã¡nh cÃ¡c yáº¿u tá»‘ vá» chi phÃ­ phÃ¡t sinh hoáº·c lá»£i Ã­ch bá»• sung.

**A. Äiá»ƒm Cháº¥t LÆ°á»£ng Container (Bonus/Penalty)**

- **Logic:**Â Náº¿u cháº¥t lÆ°á»£ng khá»›p hoáº·c tá»‘t hÆ¡n yÃªu cáº§u, sáº½ Ä‘Æ°á»£c cá»™ng Ä‘iá»ƒm. Náº¿u khÃ´ng, sáº½ bá»‹ trá»« Ä‘iá»ƒm náº·ng.
- **Báº£ng Ä‘iá»ƒm:**
    - Cháº¥t lÆ°á»£ngÂ (LGT)Â >= YÃªu cáº§uÂ (LLR):Â **+10 Ä‘iá»ƒm**
    - Cháº¥t lÆ°á»£ngÂ (LGT)Â < YÃªu cáº§uÂ (LLR)Â (cáº§n dÃ¹ng dá»‹ch vá»¥ VAS):Â **25 Ä‘iá»ƒm**Â (Pháº£n Ã¡nh chi phÃ­ vÃ  sá»± phá»©c táº¡p phÃ¡t sinh)

**B. Äiá»ƒm Ká»‹ch Báº£n Phá»©c Há»£p (Bonus)**

- **Logic:**Â ThÆ°á»Ÿng Ä‘iá»ƒm cho cÃ¡c ká»‹ch báº£n mÃ  há»‡ thá»‘ng Ä‘Ã£ "thÃ´ng minh" giáº£i quyáº¿t Ä‘Æ°á»£c má»™t váº¥n Ä‘á».
- **Báº£ng Ä‘iá»ƒm:**
    - **Street-turn "Táº¡i Depot" (Case 1.1B):**Â **+15 Ä‘iá»ƒm**. ÄÃ¢y lÃ  cÆ¡ há»™i cá»±c ká»³ tá»‘t, tiáº¿t kiá»‡m Ä‘Æ°á»£c cáº£ má»™t chuyáº¿n xe khÃ´ng táº£i, xá»©ng Ä‘Ã¡ng Ä‘Æ°á»£c Ä‘iá»ƒm thÆ°á»Ÿng cao.
    - **Káº¿t há»£p COD + Street-turn:**Â **+5 Ä‘iá»ƒm**. Máº·c dÃ¹ phá»©c táº¡p, nhÆ°ng viá»‡c há»‡ thá»‘ng tÃ¬m ra giáº£i phÃ¡p nÃ y cÅ©ng lÃ  má»™t giÃ¡ trá»‹ gia tÄƒng.
    - **Sá»­ dá»¥ng BÃ£i GPG/Depot Äá»‘i tÃ¡c (chá» lÃ¢u):**Â **+5 Ä‘iá»ƒm**. TÆ°Æ¡ng tá»± nhÆ° trÃªn.

**C. Äiá»ƒm Uy tÃ­n Äá»‘i tÃ¡c (Bonus/Penalty - Ãp dá»¥ng cho Marketplace)**

- **Logic:**Â Äiá»ƒm thÆ°á»Ÿng dá»±a trÃªn Ä‘Ã¡nh giÃ¡ cá»§a Ä‘á»‘i tÃ¡c "chÃ o bÃ¡n" cÆ¡ há»™i.
- **CÃ´ng thá»©c:**Â Äiá»ƒm Uy tÃ­n = (Äiá»ƒm_Ä‘Ã¡nh_giÃ¡_TB - 3) * 5
    - Äiá»ƒm TB lÃ  3 (trung bÃ¬nh) -> 0 Ä‘iá»ƒm thÆ°á»Ÿng/pháº¡t.
    - Äiá»ƒm TB lÃ  5 ->Â (5-3)*5 = +10 Ä‘iá»ƒmÂ thÆ°á»Ÿng.
    - Äiá»ƒm TB lÃ  1 ->Â (1-3)*5 = -10 Ä‘iá»ƒmÂ pháº¡t.

---

### **Giao Diá»‡n Hiá»ƒn Thá»‹ Cho NgÆ°á»i DÃ¹ng**

TrÃªn Dashboard, khu vá»±cÂ **"Gá»£i Ã TÃ¡i Sá»­ Dá»¥ng"**Â sáº½ Ä‘Æ°á»£c thiáº¿t káº¿ láº¡i Ä‘á»ƒ hiá»ƒn thá»‹ Ä‘iá»ƒm sá»‘ má»™t cÃ¡ch trá»±c quan.

**Thiáº¿t káº¿ má»—i tháº» gá»£i Ã½:**

- **GÃ³c trÃªn bÃªn trÃ¡i:**Â Má»™t vÃ²ng trÃ²n hoáº·c thanh tiáº¿n trÃ¬nh hiá»ƒn thá»‹Â **Tá»•ng Äiá»ƒm**. VÃ­ dá»¥:Â 85/100Â vá»›i mÃ u xanh lÃ¡ Ä‘áº­m.
- **BÃªn cáº¡nh Ä‘iá»ƒm sá»‘:**Â Má»™tÂ **tag/badge**Â ghi rÃµÂ **Loáº¡i Ká»‹ch Báº£n**:Â Ná»™i bá»™,Â Marketplace,Â Káº¿t há»£p COD,Â LÆ°u trá»¯ táº¡i bÃ£i...
- **Pháº§n trung tÃ¢m:**Â ThÃ´ng tin tÃ³m táº¯t vá» hai lá»‡nh nhÆ° cÅ©.
- **Pháº§n dÆ°á»›i:**Â Chi tiáº¿t cÃ¡c Ä‘iá»ƒm thÃ nh pháº§n. CÃ³ thá»ƒ dÃ¹ng icon:
    - ğŸ“ Khoáº£ng cÃ¡ch: 38/40
    - â±ï¸ Thá»i gian: 19/20
    - ğŸ¤ Äá»‘i tÃ¡c: 10/10
    - âœ¨ Cháº¥t lÆ°á»£ng: +10
- **GÃ³c dÆ°á»›i bÃªn pháº£i:**Â NÃºt hÃ nh Ä‘á»™ng tÆ°Æ¡ng á»©ng ("Táº¡o YÃªu cáº§u", "Táº¡o YÃªu cáº§u Káº¿t há»£p"...).

**Káº¿t quáº£:**

Dispatcher Anna giá» Ä‘Ã¢y khÃ´ng chá»‰ tháº¥y má»™t danh sÃ¡ch cÃ¡c gá»£i Ã½. CÃ´ áº¥y tháº¥y má»™tÂ **báº£ng xáº¿p háº¡ng cÃ¡c cÆ¡ há»™i**, Ä‘Æ°á»£c sáº¯p xáº¿p theo Ä‘iá»ƒm sá»‘ tá»« cao Ä‘áº¿n tháº¥p. CÃ´ cÃ³ thá»ƒ nhanh chÃ³ng so sÃ¡nh, hiá»ƒu táº¡i sao má»™t cÆ¡ há»™i Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ cao hÆ¡n, vÃ  tá»± tin ra quyáº¿t Ä‘á»‹nh chá»n phÆ°Æ¡ng Ã¡n tá»‘i Æ°u nháº¥t.